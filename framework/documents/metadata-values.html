<!DOCTYPE html><html><head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicons/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png">
        <link rel="manifest" href="/assets/favicons/site.webmanifest">
        <link rel="shortcut icon" type="image/png" href="/assets/favicons/favicon.ico">
        <link rel="mask-icon" href="/assets/favicons/safari-pinned-tab.svg" color="#e9ecef">
        <meta name="msapplication-config" content="/assets/favicons/browserconfig.xml">
        <meta name="msapplication-TileColor" content="#e9ecef">
        <meta name="theme-color" content="#e9ecef">

        <link href="/assets/bootstrap/bootstrap.css" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&amp;family=Roboto+Slab:wght@400;700&amp;family=Roboto:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&amp;display=swap" rel="stylesheet" data-no-mirror="">
        <link rel="stylesheet" href="/mirror/cdn.jsdelivr.net/npm/prismjs@1.19.0/themes/prism.css">
        <link href="/assets/css/styles.css" rel="stylesheet">

        <script src="/mirror/code.jquery.com/jquery-3.4.1.slim.min.js"></script>
        <script src="/mirror/cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
        <script src="/mirror/stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
        <script src="https://kit.fontawesome.com/a1cad7ed9a.js" crossorigin="anonymous" data-no-mirror=""></script>
        <script src="/mirror/cdn.jsdelivr.net/npm/mermaid@8.4.8/dist/mermaid.min.js"></script>
        <script src="/mirror/cdn.jsdelivr.net/npm/svg-pan-zoom@3.6.1/dist/svg-pan-zoom.min.js"></script>
        <script src="/mirror/cdn.jsdelivr.net/npm/prismjs@1.19.0/components/prism-core.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/prismjs@1.19.0/plugins/autoloader/prism-autoloader.min.js" data-no-mirror=""></script>
        <script src="/mirror/cdn.jsdelivr.net/npm/quicklink@2.0.0/dist/quicklink.umd.js"></script>
        
		

        <title>Statiq - Metadata Values</title>
    </head>
    <body class="d-flex flex-column">
        <div class="flex-grow-1 d-flex flex-column">
            <div class="bg-nav">
                <div class="container-xl py-3">
                    <div class="row">
                        <div class="offset-lg-2 col-12 col-lg-8 px-0">
                            <nav class="navbar navbar-expand-md navbar-light align-items-start">
                                <a class="navbar-brand" href="/"><img id="logo" src="/assets/statiq.svg" alt="Statiq Framework"></a>
                                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapse-topnav" aria-controls="collapse-topnav" aria-expanded="false" aria-label="Toggle navigation">
                                    <span class="navbar-toggler-icon"></span>
                                </button>
                                <div id="collapse-topnav" class="collapse navbar-collapse flex-wrap">
                                    <ul class="navbar-nav mr-auto">
                                        <li id="nav-web" class="nav-item">
                                            <a class="nav-link text-blue font-weight-light font-size-lg" href="/web">Web</a>
                                        </li>
                                        <li class="nav-item mx-3 border-right d-none d-md-block"></li>
                                        <li id="nav-docs" class="nav-item">
                                            <a class="nav-link text-orange font-weight-light font-size-lg" href="/docs">Docs</a>
                                        </li>
                                        <li class="nav-item mx-3 border-right d-none d-md-block"></li>
                                        <li id="nav-framework" class="nav-item">
                                            <a class="nav-link text-purple font-weight-light font-size-lg" href="/framework">Framework</a>
                                        </li>
                                    </ul>
                                    <ul class="navbar-nav">
                                        <li class="nav-item">
                                            <a class="nav-link" href="/news">News</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" href="https://github.com/statiqdev"><i class="fab fa-github"></i> GitHub</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" href="https://twitter.com/statiqdev"><i class="fab fa-twitter"></i> Twitter</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" href="https://github.com/statiqdev/Discussions/discussions"><i class="fad fa-question-circle"></i> Get Help</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link font-weight-bold text-red" href="/support"><i class="fad fa-heart icon-red"></i> Support</a>
                                        </li>
                                    </ul>
                                </div>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
            <div class="flex-grow-1 d-flex flex-column section-undefined section-framework">
                    <div id="titlebar" class="py-4">
                        <div class="container-xl">
                            <div class="row">
                                <div class="offset-md-3 offset-lg-2 offset-lg-2 col-12 col-lg-8 px-3 px-lg-0 w-100 d-flex align-items-end">
                                    <div class="flex-grow-1">
                                        <div class="breadcrumbs text-uppercase d-flex flex-column flex-md-row">
                                                <span><a href="/framework">Framework</a></span>
                                                <span><a href="/framework/documents">Documents and Metadata</a></span>
                                        </div>
                                        <div class="text-white m-0 title">
                                            Metadata Values                                            
                                        </div>
                                    </div>
                                        <div class="navbar navbar-expand-md navbar-dark p-0">
                                            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapse-sidebar" aria-controls="collapse-sidebar" aria-expanded="false" aria-label="Toggle navigation">
                                                <span class="navbar-toggler-icon"></span>
                                            </button>
                                        </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="undertitle">
                        <div class="container-xl">                            
                            <div class="row">
                                    <div class="col-md-3 col-lg-2 bg-section">
                                    </div>
                                    <div class="col-md-9 col-lg-8 bg-white">
                                    </div>
                                <div class="col-lg-2 d-none d-lg-block bg-section">
                                </div>
                            </div>
                        </div>
                    </div>
                <div class="flex-grow-1 d-flex flex-column">
                        <div class="container-xl flex-grow-1 d-flex flex-column">
                            <div class="row flex-grow-1 align-items-stretch">
                                        <div class="col-md-3 col-lg-2 bg-body">
                                            <div id="collapse-sidebar" class="sidebar collapse px-0 px-md-3 pt-3">
                                                    <div class="sidebar-nav-item">
                                                        <a href="/framework">About Statiq Framework</a>
                                                    </div>
                                                        <div class="sidebar-nav-item has-children">
                                                            <a href="/framework/configuration">Configuration</a>
                                                        </div>
                                                            <div class="sidebar-nav-children">
                                                                    <div class="sidebar-nav-item has-children">
                                                                        <a href="/framework/configuration/bootstrapper">Bootstrapper</a>
                                                                    </div>
                                                                        <div class="sidebar-nav-children">
                                                                                <div class="sidebar-nav-item">
                                                                                    <a href="/framework/configuration/bootstrapper/configurators">Configurators</a>
                                                                                </div>
                                                                                <div class="sidebar-nav-item">
                                                                                    <a href="/framework/configuration/bootstrapper/specifying-settings">Specifying Settings</a>
                                                                                </div>
                                                                                <div class="sidebar-nav-item">
                                                                                    <a href="/framework/configuration/bootstrapper/commands">Commands</a>
                                                                                </div>
                                                                                <div class="sidebar-nav-item">
                                                                                    <a href="/framework/configuration/bootstrapper/registering-services">Registering Services</a>
                                                                                </div>
                                                                                <div class="sidebar-nav-item">
                                                                                    <a href="/framework/configuration/bootstrapper/adding-pipelines">Adding Pipelines</a>
                                                                                </div>
                                                                                <div class="sidebar-nav-item">
                                                                                    <a href="/framework/configuration/bootstrapper/modifying-pipelines">Modifying Pipelines</a>
                                                                                </div>
                                                                        </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/configuration/settings">Settings</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/configuration/configuration-delegates">Configuration Delegates</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/configuration/clean-mode">Clean Mode</a>
                                                                    </div>
                                                            </div>
                                                        <div class="sidebar-nav-item has-children">
                                                            <a href="/framework/pipelines">Pipelines and Modules</a>
                                                        </div>
                                                            <div class="sidebar-nav-children">
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/pipelines/defining-pipelines">Defining Pipelines</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item has-children">
                                                                        <a href="/framework/pipelines/modules">About Modules</a>
                                                                    </div>
                                                                        <div class="sidebar-nav-children">
                                                                                <div class="sidebar-nav-item">
                                                                                    <a href="/framework/pipelines/modules/module-patterns">Module Patterns</a>
                                                                                </div>
                                                                                <div class="sidebar-nav-item">
                                                                                    <a href="/framework/pipelines/modules/writing-modules">Writing Modules</a>
                                                                                </div>
                                                                        </div>
                                                            </div>
                                                        <div class="sidebar-nav-item has-children">
                                                            <a href="/framework/documents">Documents and Metadata</a>
                                                        </div>
                                                            <div class="sidebar-nav-children">
                                                                    <div class="sidebar-nav-item active">
                                                                        <a href="/framework/documents/metadata-values">Metadata Values</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/documents/accessing-metadata">Accessing Metadata</a>
                                                                    </div>
                                                            </div>
                                                        <div class="sidebar-nav-item has-children">
                                                            <a href="/framework/content">Working With Content</a>
                                                        </div>
                                                            <div class="sidebar-nav-children">
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/content/front-matter">Front Matter</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/content/linking">Linking To Documents</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/content/shortcodes">Shortcodes</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/content/template-languages">Template Languages</a>
                                                                    </div>
                                                            </div>
                                                        <div class="sidebar-nav-item has-children">
                                                            <a href="/framework/execution">Execution</a>
                                                        </div>
                                                            <div class="sidebar-nav-children">
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/execution/execution-context">Execution Context</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/execution/events">Events</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/execution/analyzers">Analyzers</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/execution/files">Files and Paths</a>
                                                                    </div>
                                                            </div>
                                                        <div class="sidebar-nav-item has-children">
                                                            <a href="/framework/running">Running Your Application</a>
                                                        </div>
                                                            <div class="sidebar-nav-children">
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/running/command-line">Command-Line Interface</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/running/debugging">Debugging</a>
                                                                    </div>
                                                            </div>
                                            </div>
                                        </div>
                                        <div id="content" class="col-md-9 col-lg-8 p-4 pt-md-0 bg-white">
                                            <p>There are lots of different ways of defining metadata as atomic values, complex objects, or powerful lazily evaluated scripts and delegates.</p>
<p>Generally, metadata can be any instance of any type. Statiq's powerful <a href="/framework/documents/accessing-metadata#type-conversion">type conversion</a> will help convert the metadata object to whatever type you need when you retrieve the value. Sometimes though, you need to define metadata that's a little more powerful. The sections below describe types of metadata values that are treated separately.</p>
<h1 id="computed-values">Computed Values</h1>
<p>There are <em>many</em> cases where being able to define metadata as a computed value can be valuable. You can define computed metadata with "fat arrow" syntax. For example, placing this in the front matter of a document will result in an <code>int</code> of "3" being returned for the "MyNumber" metadata key:</p>
<pre><code class="language-txt">MyNumber: =&gt; 1 + 2
---
My number is &lt;?#= MyNumber /?&gt;.
</code></pre>
<p>The actual value should be a string (the YAML syntax above assumes a string value) that starts with <code>=&gt;</code> and is a full C# script. It can even include multiple statements:</p>
<pre><code class="language-txt">MyNumber: "=&gt; { int x = 1 + 2; int y = x; return y; }"
</code></pre>
<p>The script also has access to a number of predefined global properties available to it (see the <code>ScriptBase</code> class in <code>Statiq.Core</code> for all script properties):</p>
<ul>
<li><code>ExecutionState</code> contains the current <code>IExecutionState</code> object.</li>
<li><code>Context</code> (and the <code>ctx</code> shorthand) contain the current <a href="/framework/execution#execution-context">execution context</a>.</li>
<li><code>Document</code> (and the <code>doc</code> shorthand) contain the current <a href="/framework/documents">document</a>.</li>
<li><code>PipelineName</code>: Gets the name of the currently executing pipeline.</li>
<li><code>Pipeline</code>: Gets the currently executing pipeline.</li>
<li><code>Phase</code>: Gets the currently executing <a href="/framework/pipelines#phases">phase</a> of the current pipeline.</li>
<li><code>Parent</code>: Gets the parent execution context if currently in a nested <a href="/framework/pipelines/modules">module</a>.</li>
<li><code>Module</code>: Gets the current executing <a href="/framework/pipelines/modules">module</a>.</li>
<li><code>Inputs</code>: The collection of input <a href="/framework/documents">documents</a> to the current <a href="/framework/pipelines/modules">module</a>.</li>
</ul>
<p>In addition, all metadata conversion methods are exposed as global methods. For example, if a document has another metadata value called <code>Foo</code> and you wanted to get the <code>int</code> value of that in another metadata value you could write something like this in your front matter:</p>
<pre><code>Bar: =&gt; GetInt("Foo") + 2
</code></pre>
<h1 id="configuration-delegates">Configuration Delegates</h1>
<p>Another way of accessing the current <a href="/framework/documents">document</a> or <a href="/framework/execution#execution-context">execution context</a> while computing a lazy metadata value is to use a <a href="/framework/configuration/configuration-delegates">configuration delegate</a>. When an instance of <code>IConfig</code> is added as a metadata value, it will be evaluated on every request for that value.</p>
<h1 id="lazy-values">Lazy Values</h1>
<p>In more advanced scenarios you sometimes want to defer figuring out the value of a metadata item until it’s accessed. This can help when the data to determine the value isn’t available yet, when computing the value would be expensive and you don’t know if it’ll actually need to be accessed, or you want to compute a fresh value each time it’s accessed. This can be accomplished by implementing <code>IMetadataValue</code>. If an object that implements that interface is added as a metadata value, it’s <code>object Get(IMetadata metadata)</code> method will be called when the value is requested (the <code>metadata</code> argument is the current metadata object, for example the <a href="/framework/documents">document</a>).</p>


                                        </div>
                                <div class="col-lg-2 d-none d-lg-block bg-body pl-3 pt-3">
                                            <div class="border-bottom mb-3">
                                                <p class="small font-weight-bold">On This Page</p>
                                                    <p class="small"><a href="#computed-values">Computed Values</a></p>
                                                    <p class="small"><a href="#configuration-delegates">Configuration Delegates</a></p>
                                                    <p class="small"><a href="#lazy-values">Lazy Values</a></p>
                                            </div>
                                        <p class="small font-weight-bold"><a href="https://github.com/statiqdev/statiqdev.github.io/edit/develop/input/framework/documents/metadata-values.md"><i class="fad fa-pencil"></i> Edit This Page</a></p>
                                </div>
                            </div>
                        </div>
                </div>
            </div>
        </div>
        <div id="footer" class="p-3 text-white">
            <div class="container-xl">
                <div class="row">
                    <div class="offset-lg-2 col-12 col-lg-8">
                        <div class="text-light text-center">
                            <a href="/web" class="text-light pr-2 mr-1 border-right">Web</a>
                            <a href="/docs" class="text-light pr-2 mr-1 border-right">Docs</a>
                            <a href="/framework" class="text-light">Framework</a>
                        </div>
                        <div class="text-light text-center font-size-sm">
                            <a href="/news" class="text-light pr-2 mr-1">News</a>
                            <a href="https://github.com/statiqdev" class="text-light pr-2 mr-1"><i class="fab fa-github"></i> GitHub</a>
                            <a href="https://twitter.com/statiqdev" class="text-light pr-2 mr-1"><i class="fab fa-twitter"></i> Twitter</a>
                            <a class="text-light font-weight-bold" href="/support"><i class="fad fa-heart"></i> Support</a>
                        </div>
                        <div class="pt-2 font-size-sm text-muted text-center">
                            © 2021 Statiq/Dave Glick
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script>
            $(document).ready(function() {
                quicklink.listen();
                
                mermaid.initialize(
                {
                    flowchart:
                    {
                        useMaxWidth: false
                    },
					startOnLoad: false,
					cloneCssStyles: false
                });     
                mermaid.init(undefined, ".mermaid");

                // Remove the max-width setting that Mermaid sets
                var mermaidSvg = $('.mermaid svg');
                mermaidSvg.addClass('img-fluid');
                mermaidSvg.css('max-width', '');

                // Make it scrollable
				var target = document.querySelector(".mermaid svg");
				if(target !== null)
				{
					var panZoom = window.panZoom = svgPanZoom(target, {
						zoomEnabled: true,
						controlIconsEnabled: true,
						fit: true,
						center: true,
                        maxZoom: 20,
                        zoomScaleSensitivity: 0.6
					});			                          

                    // Do the reset once right away to fit the diagram
                    panZoom.resize();
                    panZoom.fit();
                    panZoom.center();
                    
                    $(window).resize(function(){
                        panZoom.resize();
                        panZoom.fit();
                        panZoom.center();
                    });
				}
            });
        </script>
        
		
    
</body></html>