<!DOCTYPE html><html><head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicons/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png">
        <link rel="manifest" href="/assets/favicons/site.webmanifest">
        <link rel="shortcut icon" type="image/png" href="/assets/favicons/favicon.ico">
        <link rel="mask-icon" href="/assets/favicons/safari-pinned-tab.svg" color="#e9ecef">
        <meta name="msapplication-config" content="/assets/favicons/browserconfig.xml">
        <meta name="msapplication-TileColor" content="#e9ecef">
        <meta name="theme-color" content="#e9ecef">

        <link href="/assets/bootstrap/bootstrap.css" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&amp;family=Roboto+Slab:wght@400;700&amp;family=Roboto:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&amp;display=swap" rel="stylesheet" data-no-mirror="">
        <link rel="stylesheet" href="/mirror/cdn.jsdelivr.net/npm/prismjs@1.19.0/themes/prism.css">
        <link href="/assets/css/styles.css" rel="stylesheet">

        <script src="/mirror/code.jquery.com/jquery-3.4.1.slim.min.js"></script>
        <script src="/mirror/cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
        <script src="/mirror/stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
        <script src="https://kit.fontawesome.com/a1cad7ed9a.js" crossorigin="anonymous" data-no-mirror=""></script>
        <script src="/mirror/cdn.jsdelivr.net/npm/mermaid@8.4.8/dist/mermaid.min.js"></script>
        <script src="/mirror/cdn.jsdelivr.net/npm/svg-pan-zoom@3.6.1/dist/svg-pan-zoom.min.js"></script>
        <script src="/mirror/cdn.jsdelivr.net/npm/prismjs@1.19.0/components/prism-core.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/prismjs@1.19.0/plugins/autoloader/prism-autoloader.min.js" data-no-mirror=""></script>
        <script src="/mirror/cdn.jsdelivr.net/npm/quicklink@2.0.0/dist/quicklink.umd.js"></script>
        
		

        <title>Statiq - Files and Paths</title>
    </head>
    <body class="d-flex flex-column">
        <div class="flex-grow-1 d-flex flex-column">
            <div class="bg-nav">
                <div class="container-xl py-3">
                    <div class="row">
                        <div class="offset-lg-2 col-12 col-lg-8 px-0">
                            <nav class="navbar navbar-expand-md navbar-light align-items-start">
                                <a class="navbar-brand" href="/"><img id="logo" src="/assets/statiq.svg" alt="Statiq Framework"></a>
                                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapse-topnav" aria-controls="collapse-topnav" aria-expanded="false" aria-label="Toggle navigation">
                                    <span class="navbar-toggler-icon"></span>
                                </button>
                                <div id="collapse-topnav" class="collapse navbar-collapse flex-wrap">
                                    <ul class="navbar-nav mr-auto">
                                        <li id="nav-web" class="nav-item">
                                            <a class="nav-link text-blue font-weight-light font-size-lg" href="/web">Web</a>
                                        </li>
                                        <li class="nav-item mx-3 border-right d-none d-md-block"></li>
                                        <li id="nav-docs" class="nav-item">
                                            <a class="nav-link text-orange font-weight-light font-size-lg" href="/docs">Docs</a>
                                        </li>
                                        <li class="nav-item mx-3 border-right d-none d-md-block"></li>
                                        <li id="nav-framework" class="nav-item">
                                            <a class="nav-link text-purple font-weight-light font-size-lg" href="/framework">Framework</a>
                                        </li>
                                    </ul>
                                    <ul class="navbar-nav">
                                        <li class="nav-item">
                                            <a class="nav-link" href="/news">News</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" href="https://github.com/statiqdev"><i class="fab fa-github"></i> GitHub</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" href="https://twitter.com/statiqdev"><i class="fab fa-twitter"></i> Twitter</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" href="https://github.com/statiqdev/Discussions/discussions"><i class="fad fa-question-circle"></i> Get Help</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link font-weight-bold text-red" href="/support"><i class="fad fa-heart icon-red"></i> Support</a>
                                        </li>
                                    </ul>
                                </div>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
            <div class="flex-grow-1 d-flex flex-column section-undefined section-framework">
                    <div id="titlebar" class="py-4">
                        <div class="container-xl">
                            <div class="row">
                                <div class="offset-md-3 offset-lg-2 offset-lg-2 col-12 col-lg-8 px-3 px-lg-0 w-100 d-flex align-items-end">
                                    <div class="flex-grow-1">
                                        <div class="breadcrumbs text-uppercase d-flex flex-column flex-md-row">
                                                <span><a href="/framework">Framework</a></span>
                                                <span><a href="/framework/execution">Execution</a></span>
                                        </div>
                                        <div class="text-white m-0 title">
                                            Files and Paths                                            
                                        </div>
                                    </div>
                                        <div class="navbar navbar-expand-md navbar-dark p-0">
                                            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapse-sidebar" aria-controls="collapse-sidebar" aria-expanded="false" aria-label="Toggle navigation">
                                                <span class="navbar-toggler-icon"></span>
                                            </button>
                                        </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="undertitle">
                        <div class="container-xl">                            
                            <div class="row">
                                    <div class="col-md-3 col-lg-2 bg-section">
                                    </div>
                                    <div class="col-md-9 col-lg-8 bg-white">
                                    </div>
                                <div class="col-lg-2 d-none d-lg-block bg-section">
                                </div>
                            </div>
                        </div>
                    </div>
                <div class="flex-grow-1 d-flex flex-column">
                        <div class="container-xl flex-grow-1 d-flex flex-column">
                            <div class="row flex-grow-1 align-items-stretch">
                                        <div class="col-md-3 col-lg-2 bg-body">
                                            <div id="collapse-sidebar" class="sidebar collapse px-0 px-md-3 pt-3">
                                                    <div class="sidebar-nav-item">
                                                        <a href="/framework">About Statiq Framework</a>
                                                    </div>
                                                        <div class="sidebar-nav-item has-children">
                                                            <a href="/framework/configuration">Configuration</a>
                                                        </div>
                                                            <div class="sidebar-nav-children">
                                                                    <div class="sidebar-nav-item has-children">
                                                                        <a href="/framework/configuration/bootstrapper">Bootstrapper</a>
                                                                    </div>
                                                                        <div class="sidebar-nav-children">
                                                                                <div class="sidebar-nav-item">
                                                                                    <a href="/framework/configuration/bootstrapper/configurators">Configurators</a>
                                                                                </div>
                                                                                <div class="sidebar-nav-item">
                                                                                    <a href="/framework/configuration/bootstrapper/specifying-settings">Specifying Settings</a>
                                                                                </div>
                                                                                <div class="sidebar-nav-item">
                                                                                    <a href="/framework/configuration/bootstrapper/commands">Commands</a>
                                                                                </div>
                                                                                <div class="sidebar-nav-item">
                                                                                    <a href="/framework/configuration/bootstrapper/registering-services">Registering Services</a>
                                                                                </div>
                                                                                <div class="sidebar-nav-item">
                                                                                    <a href="/framework/configuration/bootstrapper/adding-pipelines">Adding Pipelines</a>
                                                                                </div>
                                                                                <div class="sidebar-nav-item">
                                                                                    <a href="/framework/configuration/bootstrapper/modifying-pipelines">Modifying Pipelines</a>
                                                                                </div>
                                                                        </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/configuration/settings">Settings</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/configuration/configuration-delegates">Configuration Delegates</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/configuration/clean-mode">Clean Mode</a>
                                                                    </div>
                                                            </div>
                                                        <div class="sidebar-nav-item has-children">
                                                            <a href="/framework/pipelines">Pipelines and Modules</a>
                                                        </div>
                                                            <div class="sidebar-nav-children">
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/pipelines/defining-pipelines">Defining Pipelines</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item has-children">
                                                                        <a href="/framework/pipelines/modules">About Modules</a>
                                                                    </div>
                                                                        <div class="sidebar-nav-children">
                                                                                <div class="sidebar-nav-item">
                                                                                    <a href="/framework/pipelines/modules/module-patterns">Module Patterns</a>
                                                                                </div>
                                                                                <div class="sidebar-nav-item">
                                                                                    <a href="/framework/pipelines/modules/writing-modules">Writing Modules</a>
                                                                                </div>
                                                                        </div>
                                                            </div>
                                                        <div class="sidebar-nav-item has-children">
                                                            <a href="/framework/documents">Documents and Metadata</a>
                                                        </div>
                                                            <div class="sidebar-nav-children">
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/documents/metadata-values">Metadata Values</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/documents/accessing-metadata">Accessing Metadata</a>
                                                                    </div>
                                                            </div>
                                                        <div class="sidebar-nav-item has-children">
                                                            <a href="/framework/content">Working With Content</a>
                                                        </div>
                                                            <div class="sidebar-nav-children">
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/content/front-matter">Front Matter</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/content/linking">Linking To Documents</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/content/shortcodes">Shortcodes</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/content/template-languages">Template Languages</a>
                                                                    </div>
                                                            </div>
                                                        <div class="sidebar-nav-item has-children">
                                                            <a href="/framework/execution">Execution</a>
                                                        </div>
                                                            <div class="sidebar-nav-children">
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/execution/execution-context">Execution Context</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/execution/events">Events</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/execution/analyzers">Analyzers</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item active">
                                                                        <a href="/framework/execution/files">Files and Paths</a>
                                                                    </div>
                                                            </div>
                                                        <div class="sidebar-nav-item has-children">
                                                            <a href="/framework/running">Running Your Application</a>
                                                        </div>
                                                            <div class="sidebar-nav-children">
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/running/command-line">Command-Line Interface</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/running/debugging">Debugging</a>
                                                                    </div>
                                                            </div>
                                            </div>
                                        </div>
                                        <div id="content" class="col-md-9 col-lg-8 p-4 pt-md-0 bg-white">
                                            <p>Statiq uses an IO abstraction layer designed to provide flexibility and consistency when dealing with files, directories, and path information.</p>
<h1 id="normalized-paths">Normalized Paths</h1>
<p>Notional files and paths are generally represented in Statiq by the <code>NormalizedPath</code> struct. Think of it as a more standardized way of representing a path as a string. Paths can be either absolute (I.e., starting from the root of the file system) or relative. They can be easily joined together and otherwise manipulated.</p>
<h1 id="virtual-file-system">Virtual File System</h1>
<p>File and directory classes (implementations of <code>IFile</code> and <code>IDirectory</code>) point directly to a potential file or directory within a given file system. They are usually obtained using a normalized path that points to them. Each provider implements their own file and directory classes as appropriate for that provider. File and directory implementations often provide functionality for reading and writing files, creating directories, and otherwise manipulating the file system.</p>
<p>The link between paths, file providers, and files and paths is managed by a virtual file system available through the <a href="/framework/execution#execution-context">execution context</a> as the <code>FileSystem</code> property. It stores all the root, input, and output paths and provides methods to join them with relative paths to get <code>IFile</code> and <code>IDirectory</code> instances.</p>
<h2 id="root-path">Root Path</h2>
<p>The root path is an absolute path that acts as a starting point for all other relative paths. By default the root path is set to the working path on the underlying file system from where you execute Statiq.</p>
<h2 id="input-paths">Input Paths</h2>
<p>Statiq uses multiple input paths that together comprise a virtual aggregated set of input files. This lets us do things like specify a set of canonical input files to use for a theme but then selectively override the theme files by putting replacements in an alternate input path with higher precedence.</p>
<p>Input paths are stored in an ordered list. When checking for files, the paths at the end of the list take precedence over those at the start of the list. For example, if path "A" is at index 0, path "B" is at index 1, and they both have a file named "foo.md", the one from path "B" will be used. Further, all paths are aggregated so searching for files or evaluating <a href="#globbing">globbing</a> expressions will consider all files and directories in all input paths. In the example above, getting all input files will result in a set of files from both path "A" and path "B" (with files of the same name from path "B" replacing those from path "A").</p>
<p>By default a single input path of <code>input</code> is set.</p>
<h2 id="output-path">Output Path</h2>
<p>The output path is where Statiq will place output files by default. Note that many modules have the ability to manually specify an output path, so this behavior can be modified on a module by module basis.</p>
<p>By default the output path is set to <code>output</code>.</p>
<h1 id="globbing">Globbing</h1>
<p>Globbing (or globs) is a particular syntax for specifying files or directories using wildcards and other path-based search criteria. Statiq uses a sophisticated globbing engine to give you a lot of flexibility when searching for files. Even better, the globbing engine works with any file provider, be it the local file system or something else.</p>
<p>To demonstrate, let's assume the following files exist in our file provider:</p>
<ul>
<li>/a/x.txt</li>
<li>/a/b/x.txt</li>
<li>/a/b/y.md</li>
<li>/c/z.txt</li>
<li>/d/x.txt</li>
</ul>
<p>The globbing engine supports the following syntax:</p>
<ul>
<li><p><code>*</code></p>
<p>This represents any number of characters at a specific depth. For example, <code>/*/x.txt</code> will find:</p>
<ul>
<li>/a/x.txt</li>
<li>/d/x.txt</li>
</ul>
<p>Note that a wildcard can also be used in the file name. For example, <code>/*/*.txt</code> will find:</p>
<ul>
<li>/a/x.txt</li>
<li>/c/z.txt</li>
<li>/d/x.txt</li>
</ul>
</li>
<li><p><code>**</code></p>
<p>This represents any number of characters at multiple depths. For example, <code>/**/x.txt</code> will find:</p>
<ul>
<li>/a/x.txt</li>
<li>/a/b/x.txt</li>
<li>/d/x.txt</li>
</ul>
</li>
<li><p><code>{,}</code></p>
<p>This represents multiple expansions for the pattern. For example, <code>/**/{y,z}.*</code> will find:</p>
<ul>
<li>/a/b/y.md</li>
<li>/c/z.txt</li>
</ul>
<p>Leaving the last option blank indicates any match at that position. For example, <code>/{a,}/**/x.txt</code> will find:</p>
<ul>
<li>/a/x.txt</li>
<li>/a/b/x.txt</li>
<li>/d/x.txt</li>
</ul>
</li>
<li><p><code>!</code></p>
<p>This represents exclusion and is useful in combination with multiple expansions. For example, <code>/**/{*,!x}.txt</code> will find:</p>
<ul>
<li>/c/z.txt</li>
</ul>
</li>
</ul>
<p>Note that relative globbing patterns are often evaluated from the perspective of your <code>input</code> folder.</p>
<h2 id="troubleshooting-globbing-patterns">Troubleshooting Globbing Patterns</h2>
<p>Statiq provides the <code>glob</code> command to help troubleshoot globbing patterns, which has two subcommands: <code>glob eval</code> and <code>glob test</code>.</p>
<p>The <code>glob eval</code> command evaluates a globbing pattern against actual files on disk and returns all the files that match:</p>
<pre><code>dotnet run -- glob eval &lt;pattern&gt; &lt;path&gt;
</code></pre>
<p>The <code>glob test</code> command tests a globbing pattern against a provided path and returns whether the pattern would match the path. The path does not have to be a real file or folder:</p>
<pre><code>dotnet run -- glob test &lt;pattern&gt; &lt;path&gt;
</code></pre>
<h1 id="testing">Testing</h1>
<p>Because the new IO abstraction includes support for virtual file systems, it can be used to greatly simplify testing your custom modules by providing files that don't actually have to exist on disk. Several classes in the <code>Statiq.Testing</code> library are provided to help with this.</p>


                                        </div>
                                <div class="col-lg-2 d-none d-lg-block bg-body pl-3 pt-3">
                                            <div class="border-bottom mb-3">
                                                <p class="small font-weight-bold">On This Page</p>
                                                    <p class="small"><a href="#normalized-paths">Normalized Paths</a></p>
                                                    <p class="small"><a href="#virtual-file-system">Virtual File System</a></p>
                                                    <p class="small"><a href="#globbing">Globbing</a></p>
                                                    <p class="small"><a href="#testing">Testing</a></p>
                                            </div>
                                        <p class="small font-weight-bold"><a href="https://github.com/statiqdev/statiqdev.github.io/edit/develop/input/framework/execution/files.md"><i class="fad fa-pencil"></i> Edit This Page</a></p>
                                </div>
                            </div>
                        </div>
                </div>
            </div>
        </div>
        <div id="footer" class="p-3 text-white">
            <div class="container-xl">
                <div class="row">
                    <div class="offset-lg-2 col-12 col-lg-8">
                        <div class="text-light text-center">
                            <a href="/web" class="text-light pr-2 mr-1 border-right">Web</a>
                            <a href="/docs" class="text-light pr-2 mr-1 border-right">Docs</a>
                            <a href="/framework" class="text-light">Framework</a>
                        </div>
                        <div class="text-light text-center font-size-sm">
                            <a href="/news" class="text-light pr-2 mr-1">News</a>
                            <a href="https://github.com/statiqdev" class="text-light pr-2 mr-1"><i class="fab fa-github"></i> GitHub</a>
                            <a href="https://twitter.com/statiqdev" class="text-light pr-2 mr-1"><i class="fab fa-twitter"></i> Twitter</a>
                            <a class="text-light font-weight-bold" href="/support"><i class="fad fa-heart"></i> Support</a>
                        </div>
                        <div class="pt-2 font-size-sm text-muted text-center">
                            © 2021 Statiq/Dave Glick
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script>
            $(document).ready(function() {
                quicklink.listen();
                
                mermaid.initialize(
                {
                    flowchart:
                    {
                        useMaxWidth: false
                    },
					startOnLoad: false,
					cloneCssStyles: false
                });     
                mermaid.init(undefined, ".mermaid");

                // Remove the max-width setting that Mermaid sets
                var mermaidSvg = $('.mermaid svg');
                mermaidSvg.addClass('img-fluid');
                mermaidSvg.css('max-width', '');

                // Make it scrollable
				var target = document.querySelector(".mermaid svg");
				if(target !== null)
				{
					var panZoom = window.panZoom = svgPanZoom(target, {
						zoomEnabled: true,
						controlIconsEnabled: true,
						fit: true,
						center: true,
                        maxZoom: 20,
                        zoomScaleSensitivity: 0.6
					});			                          

                    // Do the reset once right away to fit the diagram
                    panZoom.resize();
                    panZoom.fit();
                    panZoom.center();
                    
                    $(window).resize(function(){
                        panZoom.resize();
                        panZoom.fit();
                        panZoom.center();
                    });
				}
            });
        </script>
        
		
    
</body></html>