<!DOCTYPE html><html><head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicons/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png">
        <link rel="manifest" href="/assets/favicons/site.webmanifest">
        <link rel="shortcut icon" type="image/png" href="/assets/favicons/favicon.ico">
        <link rel="mask-icon" href="/assets/favicons/safari-pinned-tab.svg" color="#e9ecef">
        <meta name="msapplication-config" content="/assets/favicons/browserconfig.xml">
        <meta name="msapplication-TileColor" content="#e9ecef">
        <meta name="theme-color" content="#e9ecef">

        <link href="/assets/bootstrap/bootstrap.css" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&amp;family=Roboto+Slab:wght@400;700&amp;family=Roboto:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&amp;display=swap" rel="stylesheet" data-no-mirror="">
        <link rel="stylesheet" href="/mirror/cdn.jsdelivr.net/npm/prismjs@1.19.0/themes/prism.css">
        <link href="/assets/css/styles.css" rel="stylesheet">

        <script src="/mirror/code.jquery.com/jquery-3.4.1.slim.min.js"></script>
        <script src="/mirror/cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
        <script src="/mirror/stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
        <script src="https://kit.fontawesome.com/a1cad7ed9a.js" crossorigin="anonymous" data-no-mirror=""></script>
        <script src="/mirror/cdn.jsdelivr.net/npm/mermaid@8.4.8/dist/mermaid.min.js"></script>
        <script src="/mirror/cdn.jsdelivr.net/npm/svg-pan-zoom@3.6.1/dist/svg-pan-zoom.min.js"></script>
        <script src="/mirror/cdn.jsdelivr.net/npm/prismjs@1.19.0/components/prism-core.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/prismjs@1.19.0/plugins/autoloader/prism-autoloader.min.js" data-no-mirror=""></script>
        <script src="/mirror/cdn.jsdelivr.net/npm/quicklink@2.0.0/dist/quicklink.umd.js"></script>
        
		

        <title>Statiq - Execution Context</title>
    </head>
    <body class="d-flex flex-column">
        <div class="flex-grow-1 d-flex flex-column">
            <div class="bg-nav">
                <div class="container-xl py-3">
                    <div class="row">
                        <div class="offset-lg-2 col-12 col-lg-8 px-0">
                            <nav class="navbar navbar-expand-md navbar-light align-items-start">
                                <a class="navbar-brand" href="/"><img id="logo" src="/assets/statiq.svg" alt="Statiq Framework"></a>
                                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapse-topnav" aria-controls="collapse-topnav" aria-expanded="false" aria-label="Toggle navigation">
                                    <span class="navbar-toggler-icon"></span>
                                </button>
                                <div id="collapse-topnav" class="collapse navbar-collapse flex-wrap">
                                    <ul class="navbar-nav mr-auto">
                                        <li id="nav-web" class="nav-item">
                                            <a class="nav-link text-blue font-weight-light font-size-lg" href="/web">Web</a>
                                        </li>
                                        <li class="nav-item mx-3 border-right d-none d-md-block"></li>
                                        <li id="nav-docs" class="nav-item">
                                            <a class="nav-link text-orange font-weight-light font-size-lg" href="/docs">Docs</a>
                                        </li>
                                        <li class="nav-item mx-3 border-right d-none d-md-block"></li>
                                        <li id="nav-framework" class="nav-item">
                                            <a class="nav-link text-purple font-weight-light font-size-lg" href="/framework">Framework</a>
                                        </li>
                                    </ul>
                                    <ul class="navbar-nav">
                                        <li class="nav-item">
                                            <a class="nav-link" href="/news">News</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" href="https://github.com/statiqdev"><i class="fab fa-github"></i> GitHub</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" href="https://twitter.com/statiqdev"><i class="fab fa-twitter"></i> Twitter</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" href="https://github.com/statiqdev/Discussions/discussions"><i class="fad fa-question-circle"></i> Get Help</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link font-weight-bold text-red" href="/support"><i class="fad fa-heart icon-red"></i> Support</a>
                                        </li>
                                    </ul>
                                </div>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
            <div class="flex-grow-1 d-flex flex-column section-undefined section-framework">
                    <div id="titlebar" class="py-4">
                        <div class="container-xl">
                            <div class="row">
                                <div class="offset-md-3 offset-lg-2 offset-lg-2 col-12 col-lg-8 px-3 px-lg-0 w-100 d-flex align-items-end">
                                    <div class="flex-grow-1">
                                        <div class="breadcrumbs text-uppercase d-flex flex-column flex-md-row">
                                                <span><a href="/framework">Framework</a></span>
                                                <span><a href="/framework/execution">Execution</a></span>
                                        </div>
                                        <div class="text-white m-0 title">
                                            Execution Context                                            
                                        </div>
                                    </div>
                                        <div class="navbar navbar-expand-md navbar-dark p-0">
                                            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapse-sidebar" aria-controls="collapse-sidebar" aria-expanded="false" aria-label="Toggle navigation">
                                                <span class="navbar-toggler-icon"></span>
                                            </button>
                                        </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="undertitle">
                        <div class="container-xl">                            
                            <div class="row">
                                    <div class="col-md-3 col-lg-2 bg-section">
                                    </div>
                                    <div class="col-md-9 col-lg-8 bg-white">
                                    </div>
                                <div class="col-lg-2 d-none d-lg-block bg-section">
                                </div>
                            </div>
                        </div>
                    </div>
                <div class="flex-grow-1 d-flex flex-column">
                        <div class="container-xl flex-grow-1 d-flex flex-column">
                            <div class="row flex-grow-1 align-items-stretch">
                                        <div class="col-md-3 col-lg-2 bg-body">
                                            <div id="collapse-sidebar" class="sidebar collapse px-0 px-md-3 pt-3">
                                                    <div class="sidebar-nav-item">
                                                        <a href="/framework">About Statiq Framework</a>
                                                    </div>
                                                        <div class="sidebar-nav-item has-children">
                                                            <a href="/framework/configuration">Configuration</a>
                                                        </div>
                                                            <div class="sidebar-nav-children">
                                                                    <div class="sidebar-nav-item has-children">
                                                                        <a href="/framework/configuration/bootstrapper">Bootstrapper</a>
                                                                    </div>
                                                                        <div class="sidebar-nav-children">
                                                                                <div class="sidebar-nav-item">
                                                                                    <a href="/framework/configuration/bootstrapper/configurators">Configurators</a>
                                                                                </div>
                                                                                <div class="sidebar-nav-item">
                                                                                    <a href="/framework/configuration/bootstrapper/specifying-settings">Specifying Settings</a>
                                                                                </div>
                                                                                <div class="sidebar-nav-item">
                                                                                    <a href="/framework/configuration/bootstrapper/commands">Commands</a>
                                                                                </div>
                                                                                <div class="sidebar-nav-item">
                                                                                    <a href="/framework/configuration/bootstrapper/registering-services">Registering Services</a>
                                                                                </div>
                                                                                <div class="sidebar-nav-item">
                                                                                    <a href="/framework/configuration/bootstrapper/adding-pipelines">Adding Pipelines</a>
                                                                                </div>
                                                                                <div class="sidebar-nav-item">
                                                                                    <a href="/framework/configuration/bootstrapper/modifying-pipelines">Modifying Pipelines</a>
                                                                                </div>
                                                                        </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/configuration/settings">Settings</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/configuration/configuration-delegates">Configuration Delegates</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/configuration/clean-mode">Clean Mode</a>
                                                                    </div>
                                                            </div>
                                                        <div class="sidebar-nav-item has-children">
                                                            <a href="/framework/pipelines">Pipelines and Modules</a>
                                                        </div>
                                                            <div class="sidebar-nav-children">
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/pipelines/defining-pipelines">Defining Pipelines</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item has-children">
                                                                        <a href="/framework/pipelines/modules">About Modules</a>
                                                                    </div>
                                                                        <div class="sidebar-nav-children">
                                                                                <div class="sidebar-nav-item">
                                                                                    <a href="/framework/pipelines/modules/module-patterns">Module Patterns</a>
                                                                                </div>
                                                                                <div class="sidebar-nav-item">
                                                                                    <a href="/framework/pipelines/modules/writing-modules">Writing Modules</a>
                                                                                </div>
                                                                        </div>
                                                            </div>
                                                        <div class="sidebar-nav-item has-children">
                                                            <a href="/framework/documents">Documents and Metadata</a>
                                                        </div>
                                                            <div class="sidebar-nav-children">
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/documents/metadata-values">Metadata Values</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/documents/accessing-metadata">Accessing Metadata</a>
                                                                    </div>
                                                            </div>
                                                        <div class="sidebar-nav-item has-children">
                                                            <a href="/framework/content">Working With Content</a>
                                                        </div>
                                                            <div class="sidebar-nav-children">
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/content/front-matter">Front Matter</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/content/linking">Linking To Documents</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/content/shortcodes">Shortcodes</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/content/template-languages">Template Languages</a>
                                                                    </div>
                                                            </div>
                                                        <div class="sidebar-nav-item has-children">
                                                            <a href="/framework/execution">Execution</a>
                                                        </div>
                                                            <div class="sidebar-nav-children">
                                                                    <div class="sidebar-nav-item active">
                                                                        <a href="/framework/execution/execution-context">Execution Context</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/execution/events">Events</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/execution/analyzers">Analyzers</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/execution/files">Files and Paths</a>
                                                                    </div>
                                                            </div>
                                                        <div class="sidebar-nav-item has-children">
                                                            <a href="/framework/running">Running Your Application</a>
                                                        </div>
                                                            <div class="sidebar-nav-children">
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/running/command-line">Command-Line Interface</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/running/debugging">Debugging</a>
                                                                    </div>
                                                            </div>
                                            </div>
                                        </div>
                                        <div id="content" class="col-md-9 col-lg-8 p-4 pt-md-0 bg-white">
                                            <p>While executing <a href="/framework/pipelines">pipelines and modules</a>, the current state and other functionality is passed in an object called the execution context.</p>
<p>The execution context contains lots of information such as the current pipeline, phase, and module, the settings and file system, the input documents to the module, and more. The current execution context is generally provided by <a href="/framework/configuration/configuration-delegates">configuration delegates</a> or a <a href="/framework/pipelines/modules/writing-modules">module execution method</a>.</p>
<h1 id="interfaces">Interfaces</h1>
<p>The execution context implements a number of interfaces that provide additional capabilities:</p>
<ul>
<li><code>IMetadata</code>: All <a href="/framework/configuration/settings">settings</a> can be accessed directly through the execution context as metadata.</li>
<li><code>ILogger</code>: All logging should be performed through the execution context, which tracks the current pipeline and module and logs them out along with your messages.</li>
<li><code>IDocumentFactory</code>: The execution context can be used to create new documents.</li>
<li><code>IServiceProvider</code>: allows you to use the execution context as a dependency injection service provider.</li>
</ul>
<h1 id="properties">Properties</h1>
<p>In addition to directly implementing these interfaces, the execution context also contains a number of useful properties:</p>
<ul>
<li><code>ExecutionId</code>: Uniquely identifies the current execution cycle which can be helpful for managing caches or resetting data.</li>
<li><code>CancellationToken</code>: Should be used whenever by possible by modules and other code to provide cancellation support.</li>
<li><code>ApplicationState</code>: Contains initial application state data like the original command line arguments.</li>
<li><code>ClassCatalog</code>: A catalog of all classes in all referenced assemblies.</li>
<li><code>Events</code>: The collection of registered <a href="/framework/execution/events">events</a>.</li>
<li><code>FileSystem</code>: The current <a href="/framework/execution/files#virtual-file-system">file system</a> abstraction.</li>
<li><code>Settings</code>: The application <a href="/framework/configuration/settings">settings</a> as metadata (even though this is also exposed directly by the execution context by implementing <code>IMetadata</code>).</li>
<li><code>Shortcodes</code>: A read-only collection of all available <a href="/framework/content/shortcodes">shortcodes</a>.</li>
<li><code>Namespaces</code>: Gets a set of namespaces that should be brought into scope for modules that perform dynamic compilation.</li>
<li><code>MemoryStreamFactory</code>: Provides pooled memory streams (via the <code>RecyclableMemoryStream</code> library).</li>
<li><code>Outputs</code>: Gets a collection of outputs from all previously processed <a href="/framework/pipelines">pipelines</a>.</li>
<li><code>OutputPages</code>: Gets a collection of outputs from all previously processed <a href="/framework/pipelines">pipelines</a>, filtered to just those documents with a destination path ending in one of the configured page extensions (such as ".html" or ".htm").</li>
<li><code>Services</code>: Gets the dependency injection service provider (even though this is also exposed directly by the execution context by implementing <code>IServiceProvider</code>).</li>
<li><code>ScriptHelper</code>: Gets a helper that can compile and evaluate C# scripts.</li>
<li><code>Pipelines</code>: Gets a read-only collection of all defined <a href="/framework/pipelines">pipelines</a>.</li>
<li><code>PipelineName</code>: Gets the name of the currently executing pipeline.</li>
<li><code>Pipeline</code>: Gets the currently executing pipeline.</li>
<li><code>Phase</code>: Gets the currently executing <a href="/framework/pipelines#phases">phase</a> of the current pipeline.</li>
<li><code>Parent</code>: Gets the parent execution context if currently in a nested <a href="/framework/pipelines/modules">module</a>.</li>
<li><code>Module</code>: Gets the current executing <a href="/framework/pipelines/modules">module</a>.</li>
<li><code>Inputs</code>: The collection of input <a href="/framework/documents">documents</a> to the current <a href="/framework/pipelines/modules">module</a> (probably the most important property of the execution context).</li>
</ul>
<h1 id="current-execution-context">Current Execution Context</h1>
<p>You can get the current execution context at any time by calling <code>IExecutionContext.Current</code>. This static default interface property is implemented using an <code>AsyncLocal&lt;IExecutionContext&gt;</code> so it always contains the correct execution context even across asynchronous calls.</p>


                                        </div>
                                <div class="col-lg-2 d-none d-lg-block bg-body pl-3 pt-3">
                                            <div class="border-bottom mb-3">
                                                <p class="small font-weight-bold">On This Page</p>
                                                    <p class="small"><a href="#interfaces">Interfaces</a></p>
                                                    <p class="small"><a href="#properties">Properties</a></p>
                                                    <p class="small"><a href="#current-execution-context">Current Execution Context</a></p>
                                            </div>
                                        <p class="small font-weight-bold"><a href="https://github.com/statiqdev/statiqdev.github.io/edit/develop/input/framework/execution/execution-context.md"><i class="fad fa-pencil"></i> Edit This Page</a></p>
                                </div>
                            </div>
                        </div>
                </div>
            </div>
        </div>
        <div id="footer" class="p-3 text-white">
            <div class="container-xl">
                <div class="row">
                    <div class="offset-lg-2 col-12 col-lg-8">
                        <div class="text-light text-center">
                            <a href="/web" class="text-light pr-2 mr-1 border-right">Web</a>
                            <a href="/docs" class="text-light pr-2 mr-1 border-right">Docs</a>
                            <a href="/framework" class="text-light">Framework</a>
                        </div>
                        <div class="text-light text-center font-size-sm">
                            <a href="/news" class="text-light pr-2 mr-1">News</a>
                            <a href="https://github.com/statiqdev" class="text-light pr-2 mr-1"><i class="fab fa-github"></i> GitHub</a>
                            <a href="https://twitter.com/statiqdev" class="text-light pr-2 mr-1"><i class="fab fa-twitter"></i> Twitter</a>
                            <a class="text-light font-weight-bold" href="/support"><i class="fad fa-heart"></i> Support</a>
                        </div>
                        <div class="pt-2 font-size-sm text-muted text-center">
                            © 2021 Statiq/Dave Glick
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script>
            $(document).ready(function() {
                quicklink.listen();
                
                mermaid.initialize(
                {
                    flowchart:
                    {
                        useMaxWidth: false
                    },
					startOnLoad: false,
					cloneCssStyles: false
                });     
                mermaid.init(undefined, ".mermaid");

                // Remove the max-width setting that Mermaid sets
                var mermaidSvg = $('.mermaid svg');
                mermaidSvg.addClass('img-fluid');
                mermaidSvg.css('max-width', '');

                // Make it scrollable
				var target = document.querySelector(".mermaid svg");
				if(target !== null)
				{
					var panZoom = window.panZoom = svgPanZoom(target, {
						zoomEnabled: true,
						controlIconsEnabled: true,
						fit: true,
						center: true,
                        maxZoom: 20,
                        zoomScaleSensitivity: 0.6
					});			                          

                    // Do the reset once right away to fit the diagram
                    panZoom.resize();
                    panZoom.fit();
                    panZoom.center();
                    
                    $(window).resize(function(){
                        panZoom.resize();
                        panZoom.fit();
                        panZoom.center();
                    });
				}
            });
        </script>
        
		
    
</body></html>